% !TEX root = laws.tex

\subsection{Scorex Framework}

The idea of a modular design for a cryptocurrency was first proposed by Goodman in the Tezos position paper~\cite{tezosPosition}. The paper~\footnote{Section 2 of the paper} proposes to split a cryptocurrency design into the three protocols: network, transaction and consensus. In many cases, however, these layers are tightly coupled and it is hard to describe them separately. For example, in a proof-of-stake cryptocurrency a balance sheet, which representation is heavily influenced by a transaction format, is used in a consensus protocol. 

Plenty of modular open-source frameworks were proposed for speeding up development of new blockchains: Sawtooth~\cite{sawtooth} and Fabric~\cite{fabric} by Hyperledger, Exonum~\cite{exonum} by Bitfury Group, Scorex~\cite{scorex} by IOHK etc. We have chosen Scorex, as it has finer granularity. In particular, in order to support hybrid blockchains as well as more complicated linking structures than a chain~(such as Spectre\cite{spectre}), Scorex does not have a notion of a blockchain as a core abstraction. Instead, it provides an abstract interface to a \textit{history} which contains \textit{persistent modifiers}. The history is a part of a \textit{node view}, which is a quadruple of $\langle$\textit{history}, \textit{minimal state}, \textit{vault}, \textit{memory pool}$\rangle$. This node view is to be updated as a result of processing whether a persistent modifier or a transaction. The minimal state is a data structure and a corresponding interface providing the ability to check the validity of an arbitrary persistent modifier for the current moment of time with the same result for all the nodes in the network having the same history. The minimal state is to be obtained deterministically from an initial pre-historical state and the history. The vault holds node-specific information, for example, a node user's wallet. The memory pool holds unconfirmed transactions being propagated across the networks by nodes before their inclusion into blocks. Such a design, described in details in Section~\ref{sec:scorex}, gives us a possibility to develop an abstract testing framework where it is possible to state contracts for the node view quadruple components without knowing details of their implementations.